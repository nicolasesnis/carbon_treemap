(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{1081:function(e,t){},1576:function(e,t,n){"use strict";n.r(t);var a=n(2),i=n.n(a),c=n(147),r=n.n(c),s=(n(746),n(22)),o=(n(747),n(293)),l=n.n(o),j=n(732),b=n(51),u=n(38),h=n(1632),p=n(719),O=n.n(p),d=n(1633),f=n(1636),x=n(3);var m=function(e){var t=Object(a.useState)(!1),n=Object(s.a)(t,2),i=n[0],c=n[1],r=Object(a.useState)(!1),o=Object(s.a)(r,2),l=o[0],j=o[1],b=Object(a.useState)({}),p=Object(s.a)(b,2),m=p[0],g=p[1],v=Object(a.useState)(!0),S=Object(s.a)(v,2),F=S[0],y=S[1],k=Object(a.useState)(!1),w=Object(s.a)(k,2),E=w[0],C=w[1],G=Object(a.useState)(!1),M=Object(s.a)(G,2),z=M[0],L=M[1],T=Object(a.useState)(!1),I=Object(s.a)(T,2),A=I[0],D=I[1];return Object(a.useEffect)((function(){y(!0),j(!1),fetch("https://carbon-treemap.herokuapp.com/get-data/"+e.filename).then((function(e){return e.json()})).then((function(t){200===t.status?(D(!1),C(Object.keys(t)[Object.keys(t).length-2]),L(Object.keys(t).map((function(e){return{label:e,value:parseInt(e)}}))),c(t),g({margin:{t:50,l:25,r:25,b:25},title:"entreprises"===e.filename?"GES et market cap. - Entreprises":"GES par habitant et GES total - Pays",autosize:!0,font:{size:14,plot_bgcolor:"black"},annotations:[{showarrow:!1,text:"entreprises"===e.filename?"<i>Taille des zones : market cap. ; Couleur des zones : GES</i>":"<i>Taille des zones : GES total ; Couleur des zones : GES par habitant</i>",x:.5,xanchor:"center",y:-.05,yanchor:"bottom"}]}),y(!1)):D(t.message)}))}),[e.filename]),Object(a.useEffect)((function(){E&&i&&z&&z.map((function(e){return e.value})).includes(parseInt(E))&&j(i[E])}),[E,i,z]),Object(a.useEffect)((function(){!F&&l&&O.a.react("treemap",[{type:"treemap",labels:l.label,parents:l.parent,values:l.value,branchvalues:"total",marker:{colors:l.color,colorscale:[["0.0","#00FF00"],["0.111111111111","#35FF00"],["0.222222222222","#6AFF00"],["0.333333333333","#9FFF00"],["0.444444444444","#D4FF00"],["0.555555555556","#FFF600"],["0.666666666667","#FFC100"],["0.777777777778","#FF8C00"],["0.888888888889","#FF5700"],["1.0","#FF1100"]],cmid:l.tco2_eq_mean},hovertemplate:"entreprises"===e.filename?"<b>%{label} </b> <br> Market cap. : %{value}<br> GES : %{color:,}<extra></extra>":"<b>%{label} </b> <br> GES Total : %{value}<br> GES par habitant : %{color:,}<extra></extra>"}],m,{responsive:!0})}),[l,m,F,e.filename]),Object(a.useEffect)((function(){setTimeout((function(){window.dispatchEvent(new Event("resize"))}),100)}),[e.open]),Object(x.jsx)("div",{children:!0!==F&&l&&z&&E?Object(x.jsxs)(f.a,{container:!0,spacing:"1",alignItems:"center",children:[Object(x.jsx)(f.a,{item:!0,xs:1,children:Object(x.jsx)(d.a,{style:{height:"50vh"},getAriaLabel:function(){return"Year"},orientation:"vertical",defaultValue:[Math.max.apply(Math,Object(u.a)(z.map((function(e){return e.value}))))],step:1,onChange:function(e){return function(e){C(e.target.value)}(e)},marks:z,max:Math.max.apply(Math,Object(u.a)(z.map((function(e){return e.value})))),min:Math.min.apply(Math,Object(u.a)(z.map((function(e){return e.value}))))})}),Object(x.jsxs)(f.a,{item:!0,xs:11,children:[Object(x.jsx)("div",{id:"treemap",style:{height:"80vh"}})," "]})]}):Object(x.jsx)("div",{children:A?Object(x.jsx)(h.a,{style:{marginTop:"2vh"},severity:"error",children:Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{children:"Something went wrong. The file is probably not matching with compatible templates. Double check file or send below message to Nico:"}),Object(x.jsx)("br",{}),A]})}):Object(x.jsx)("div",{children:" Loading data "})})})},g=n(1630),v=n(1637),S=n(728),F=n.n(S),y=n(729),k=n.n(y),w=n(194),E=n(13),C=n(90),G=n(1640),M=n(1629),z=n(727),L=n.n(z),T=n(1641),I=n(1639),A=n(1642),D=n(1645),P=n(1643),R=n(1644),N=n(1638),_=n(722),q=n.n(_),B=n(723),J=n.n(B),V=n(724),W=n.n(V),Y=n(1634),H=n(1646),K=n(1647),Q=n(726),U=n.n(Q),X=n(725),Z=n.n(X),$=240,ee=Object(E.a)("main",{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,n=e.open;return Object(w.a)({flexGrow:1,padding:t.spacing(3),transition:t.transitions.create("margin",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),marginLeft:"-".concat($,"px")},n&&{transition:t.transitions.create("margin",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.enteringScreen}),marginLeft:0})})),te=Object(E.a)(I.a,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,n=e.open;return Object(w.a)({backgroundColor:"White",color:"black",transition:t.transitions.create(["margin","width"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})},n&&{width:"calc(100% - ".concat($,"px)"),marginLeft:"".concat($,"px"),transition:t.transitions.create(["margin","width"],{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.enteringScreen})})})),ne=Object(E.a)("div")((function(e){var t=e.theme;return Object(w.a)(Object(w.a)({display:"flex",alignItems:"center",padding:t.spacing(0,1)},t.mixins.toolbar),{},{justifyContent:"flex-end"})}));function ae(e){var t=e.children,n=Object(C.a)(),c=i.a.useState(!0),r=Object(s.a)(c,2),o=r[0],j=r[1],b=i.a.useState("pays.csv"),u=Object(s.a)(b,2),h=u[0],p=u[1],O=i.a.useState([]),d=Object(s.a)(O,2),f=d[0],m=d[1],g=i.a.Children.map(t,(function(e){return i.a.isValidElement(e)?i.a.cloneElement(e,{open:o,filename:h}):e}));function v(){l.a.get("https://carbon-treemap.herokuapp.com/get-files").then((function(e){m(e.data)})).catch((function(e){console.log(e)}))}return Object(a.useEffect)((function(){v()}),[]),Object(x.jsxs)(G.a,{sx:{display:"flex"},children:[Object(x.jsx)(T.a,{}),Object(x.jsx)(te,{position:"fixed",open:o,children:Object(x.jsxs)(A.a,{children:[Object(x.jsx)(N.a,{color:"inherit","aria-label":"open drawer",onClick:function(){j(!0)},edge:"start",sx:Object(w.a)({mr:2},o&&{display:"none"}),children:Object(x.jsx)(q.a,{})}),Object(x.jsx)(P.a,{variant:"h6",noWrap:!0,component:"div",children:"Repr\xe9sentation graphique des \xe9missions de GES"})]})}),Object(x.jsxs)(M.a,{sx:{width:$,flexShrink:0,"& .MuiDrawer-paper":{width:$,boxSizing:"border-box"}},variant:"persistent",anchor:"left",open:o,children:[Object(x.jsx)(ne,{children:Object(x.jsx)(N.a,{onClick:function(){j(!1)},children:"ltr"===n.direction?Object(x.jsx)(J.a,{}):Object(x.jsx)(W.a,{})})}),Object(x.jsx)(R.a,{}),Object(x.jsxs)(D.a,{children:[f.map((function(e){return Object(x.jsxs)(Y.a,{button:!0,onClick:function(t){return p(e)},children:[Object(x.jsx)(H.a,{children:Object(x.jsx)(Z.a,{})}),Object(x.jsx)(K.a,{primary:e})]},e)})),Object(x.jsxs)(Y.a,{button:!0,onClick:function(e){return v()},children:[Object(x.jsx)(H.a,{children:Object(x.jsx)(U.a,{})}),Object(x.jsx)(K.a,{primary:"Refresh Drive"})]},"Refresh")]}),Object(x.jsx)(R.a,{}),Object(x.jsx)(D.a,{children:Object(x.jsxs)(Y.a,{button:!0,children:[Object(x.jsx)(H.a,{children:Object(x.jsx)(L.a,{})}),Object(x.jsx)(K.a,{primary:"About"})]},"About")})]}),Object(x.jsxs)(ee,{open:o,children:[Object(x.jsx)(ne,{}),g]})]})}function ie(e){var t=e.open,n=e.filename,i=a.useState(0),c=Object(s.a)(i,2),r=c[0],o=c[1];return Object(x.jsxs)(ae,{children:[Object(x.jsxs)(g.a,{value:r,onChange:function(e,t){o(t)},"aria-label":"icon tabs example",children:[Object(x.jsx)(v.a,{icon:Object(x.jsx)(F.a,{}),"aria-label":"chart"}),Object(x.jsx)(v.a,{icon:Object(x.jsx)(k.a,{}),"aria-label":"table"})]}),0===r?Object(x.jsx)(m,{filename:n,open:t}):Object(x.jsx)("div",{})]})}var ce=function(){var e=Object(a.useState)({}),t=Object(s.a)(e,2),n=t[0],i=t[1];return Object(a.useEffect)((function(){l.a.get("https://carbon-treemap.herokuapp.com/api").then((function(e){i(e)})).catch((function(e){console.log(e)}))}),[]),Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"}),200===n.status?Object(x.jsx)("div",{children:Object(x.jsx)(j.a,{children:Object(x.jsx)(b.a,{exact:!0,path:"/",component:ie})})}):Object(x.jsx)("h3",{children:"LOADING"})]})},re=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,1649)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),i(e),c(e),r(e)}))};r.a.render(Object(x.jsx)(i.a.StrictMode,{children:Object(x.jsx)(ce,{})}),document.getElementById("root")),re()},746:function(e,t,n){},747:function(e,t,n){},965:function(e,t){},967:function(e,t){}},[[1576,1,2]]]);
//# sourceMappingURL=main.35ac06ad.chunk.js.map
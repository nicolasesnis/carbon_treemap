(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{1080:function(e,t){},1575:function(e,t,n){"use strict";n.r(t);var a=n(2),i=n.n(a),r=n(146),c=n.n(r),s=(n(745),n(22)),o=(n(746),n(717)),j=n.n(o),l=n(731),b=n(51),u=n(194),p=n(16),O=n(89),h=n(1636),d=n(1628),x=n(726),f=n.n(x),m=n(1637),g=n(1635),v=n(1638),F=n(1642),S=n(1640),y=n(1641),k=n(1639),E=n(721),w=n.n(E),C=n(722),G=n.n(C),M=n(723),z=n.n(M),L=n(1631),I=n(1643),P=n(1644),A=n(725),T=n.n(A),_=n(724),D=n.n(_),q=n(38),B=n(718),J=n.n(B),N=n(1632),R=n(1634),W=n(3);var V=function(e){var t=Object(a.useState)(!1),n=Object(s.a)(t,2),i=n[0],r=n[1],c=Object(a.useState)(!1),o=Object(s.a)(c,2),j=o[0],l=o[1],b=Object(a.useState)({}),u=Object(s.a)(b,2),p=u[0],O=u[1],h=Object(a.useState)(!0),d=Object(s.a)(h,2),x=d[0],f=d[1],m=Object(a.useState)(!1),g=Object(s.a)(m,2),v=g[0],F=g[1],S=Object(a.useState)(!1),y=Object(s.a)(S,2),k=y[0],E=y[1];return Object(a.useEffect)((function(){f(!0),l(!1),fetch("https://carbon-treemap.herokuapp.com/get-data/"+e.filename).then((function(e){return e.json()})).then((function(t){F(Object.keys(t)[Object.keys(t).length-1]),E(Object.keys(t).map((function(e){return{label:e,value:parseInt(e)}}))),r(t),O({margin:{t:50,l:25,r:25,b:25},title:"entreprises"===e.filename?"GES et market cap. - Entreprises":"GES par habitant et GES total - Pays",autosize:!0,font:{size:14,plot_bgcolor:"black"},annotations:[{showarrow:!1,text:"entreprises"===e.filename?"<i>Taille des zones : market cap. ; Couleur des zones : GES</i>":"<i>Taille des zones : GES total ; Couleur des zones : GES par habitant</i>",x:.5,xanchor:"center",y:-.05,yanchor:"bottom"}]}),f(!1)}))}),[e.filename]),Object(a.useEffect)((function(){v&&i&&k&&k.map((function(e){return e.value})).includes(parseInt(v))&&l(i[v])}),[v,i,k]),Object(a.useEffect)((function(){!x&&j&&(console.log(j.tco2_eq_mean),J.a.react("treemap",[{type:"treemap",labels:j.label,parents:j.parent,values:j.value,branchvalues:"total",marker:{colors:j.color,colorscale:[["0.0","#00FF00"],["0.111111111111","#35FF00"],["0.222222222222","#6AFF00"],["0.333333333333","#9FFF00"],["0.444444444444","#D4FF00"],["0.555555555556","#FFF600"],["0.666666666667","#FFC100"],["0.777777777778","#FF8C00"],["0.888888888889","#FF5700"],["1.0","#FF1100"]],cmid:j.tco2_eq_mean},hovertemplate:"entreprises"===e.filename?"<b>%{label} </b> <br> Market cap. : %{value}<br> GES : %{color:,}<extra></extra>":"<b>%{label} </b> <br> GES Total : %{value}<br> GES par habitant : %{color:,}<extra></extra>"}],p,{responsive:!0}))}),[j,p,x,e.filename]),Object(a.useEffect)((function(){setTimeout((function(){window.dispatchEvent(new Event("resize"))}),100)}),[e.drawerOpen]),Object(W.jsx)("div",{children:!0!==x&&j&&k&&v?Object(W.jsxs)(R.a,{container:!0,spacing:"1",alignItems:"center",children:[Object(W.jsx)(R.a,{item:!0,xs:1,children:Object(W.jsx)(N.a,{style:{height:"50vh"},getAriaLabel:function(){return"Year"},orientation:"vertical",defaultValue:[Math.max.apply(Math,Object(q.a)(k.map((function(e){return e.value}))))],step:1,onChange:function(e){return function(e){F(e.target.value)}(e)},marks:k,max:Math.max.apply(Math,Object(q.a)(k.map((function(e){return e.value})))),min:Math.min.apply(Math,Object(q.a)(k.map((function(e){return e.value}))))})}),Object(W.jsxs)(R.a,{item:!0,xs:11,children:[Object(W.jsx)("div",{id:"treemap",style:{height:"80vh"}})," "]})]}):Object(W.jsx)("div",{children:" Loading data "})})},Y=n(1629),H=n(1645),K=n(727),Q=n.n(K),U=n(728),X=n.n(U),Z=240,$=Object(p.a)("main",{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,n=e.open;return Object(u.a)({flexGrow:1,padding:t.spacing(3),transition:t.transitions.create("margin",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),marginLeft:"-".concat(Z,"px")},n&&{transition:t.transitions.create("margin",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.enteringScreen}),marginLeft:0})})),ee=Object(p.a)(g.a,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,n=e.open;return Object(u.a)({backgroundColor:"White",color:"black",transition:t.transitions.create(["margin","width"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})},n&&{width:"calc(100% - ".concat(Z,"px)"),marginLeft:"".concat(Z,"px"),transition:t.transitions.create(["margin","width"],{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.enteringScreen})})})),te=Object(p.a)("div")((function(e){var t=e.theme;return Object(u.a)(Object(u.a)({display:"flex",alignItems:"center",padding:t.spacing(0,1)},t.mixins.toolbar),{},{justifyContent:"flex-end"})}));function ne(){var e=Object(O.a)(),t=a.useState(!0),n=Object(s.a)(t,2),i=n[0],r=n[1],c=a.useState(0),o=Object(s.a)(c,2),j=o[0],l=o[1],b=a.useState("pays"),p=Object(s.a)(b,2),x=p[0],g=p[1];return Object(W.jsxs)(h.a,{sx:{display:"flex"},children:[Object(W.jsx)(m.a,{}),Object(W.jsx)(ee,{position:"fixed",open:i,children:Object(W.jsxs)(v.a,{children:[Object(W.jsx)(k.a,{color:"inherit","aria-label":"open drawer",onClick:function(){r(!0)},edge:"start",sx:Object(u.a)({mr:2},i&&{display:"none"}),children:Object(W.jsx)(w.a,{})}),Object(W.jsx)(S.a,{variant:"h6",noWrap:!0,component:"div",children:"Repr\xe9sentation graphique des \xe9missions de GES"})]})}),Object(W.jsxs)(d.a,{sx:{width:Z,flexShrink:0,"& .MuiDrawer-paper":{width:Z,boxSizing:"border-box"}},variant:"persistent",anchor:"left",open:i,children:[Object(W.jsx)(te,{children:Object(W.jsx)(k.a,{onClick:function(){r(!1)},children:"ltr"===e.direction?Object(W.jsx)(G.a,{}):Object(W.jsx)(z.a,{})})}),Object(W.jsx)(y.a,{}),Object(W.jsxs)(F.a,{children:[Object(W.jsxs)(L.a,{button:!0,onClick:function(e){return g("pays")},children:[Object(W.jsx)(I.a,{children:Object(W.jsx)(D.a,{})}),Object(W.jsx)(P.a,{primary:"Pays"})]},"Pays"),Object(W.jsxs)(L.a,{button:!0,onClick:function(e){return g("entreprises")},children:[Object(W.jsx)(I.a,{children:Object(W.jsx)(T.a,{})}),Object(W.jsx)(P.a,{primary:"Entreprises"})]},"Entreprises")]}),Object(W.jsx)(y.a,{}),Object(W.jsx)(F.a,{children:Object(W.jsxs)(L.a,{button:!0,children:[Object(W.jsx)(I.a,{children:Object(W.jsx)(f.a,{})}),Object(W.jsx)(P.a,{primary:"About"})]},"About")})]}),Object(W.jsxs)($,{open:i,children:[Object(W.jsx)(te,{}),Object(W.jsxs)(Y.a,{value:j,onChange:function(e,t){l(t)},"aria-label":"icon tabs example",children:[Object(W.jsx)(H.a,{icon:Object(W.jsx)(Q.a,{}),"aria-label":"chart"}),Object(W.jsx)(H.a,{icon:Object(W.jsx)(X.a,{}),"aria-label":"table"})]}),0===j?Object(W.jsx)(V,{filename:x,drawerOpen:i}):Object(W.jsx)("div",{})]})]})}var ae=function(){var e=Object(a.useState)({}),t=Object(s.a)(e,2),n=t[0],i=t[1];return Object(a.useEffect)((function(){j.a.get("https://carbon-treemap.herokuapp.com/api").then((function(e){i(e)})).catch((function(e){console.log(e)}))}),[]),Object(W.jsxs)("div",{className:"App",children:[Object(W.jsx)("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"}),200===n.status?Object(W.jsx)(l.a,{children:Object(W.jsx)(b.a,{exact:!0,path:"/",component:ne})}):Object(W.jsx)("h3",{children:"LOADING"})]})},ie=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,1647)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),i(e),r(e),c(e)}))};c.a.render(Object(W.jsx)(i.a.StrictMode,{children:Object(W.jsx)(ae,{})}),document.getElementById("root")),ie()},745:function(e,t,n){},746:function(e,t,n){},964:function(e,t){},966:function(e,t){}},[[1575,1,2]]]);
//# sourceMappingURL=main.f169cf6a.chunk.js.map
{"version":3,"sources":["components/Treemap.js","components/Layout.js","pages/Home.js","App.js","reportWebVitals.js","index.js"],"names":["Treemap","props","useState","data","setData","treeData","setTreeData","treeLayout","setTreeLayout","loading","setLoading","year","setYear","years","setYears","alert","setAlert","colorValues","setColorValues","colorValue","setColorValue","useEffect","fetch","process","filename","then","response","json","resData","status","Object","keys","length","map","label","value","parseInt","margin","t","l","r","b","title","autosize","font","size","plot_bgcolor","annotations","showarrow","text","x","xanchor","y","yanchor","message","color","console","log","Plotly","react","type","labels","parents","parent","values","branchvalues","marker","colors","colorscale","showscale","cmid","cmax","cmin","hovertemplate","responsive","setTimeout","window","dispatchEvent","Event","open","Grid","container","spacing","alignItems","item","xs","Box","FormControl","fullWidth","InputLabel","id","Select","onChange","event","target","MenuItem","sx","marginTop","c","style","height","Alert","severity","drawerWidth","Main","styled","shouldForwardProp","prop","theme","flexGrow","padding","transition","transitions","create","easing","sharp","duration","leavingScreen","marginLeft","easeOut","enteringScreen","AppBar","MuiAppBar","backgroundColor","width","DrawerHeader","display","mixins","toolbar","justifyContent","Layout","children","useTheme","React","setOpen","setFilename","files","setFiles","childrenWithProps","Children","child","isValidElement","cloneElement","refresh","axios","get","catch","error","CssBaseline","position","Toolbar","IconButton","onClick","edge","mr","Typography","variant","noWrap","component","Drawer","flexShrink","boxSizing","anchor","direction","Divider","List","file","ListItem","button","ListItemIcon","ListItemText","primary","Home","tabValue","setTabValue","Tabs","newValue","Tab","icon","App","getMessage","setGetMessage","className","rel","href","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2e6c942f.chunk.js","sourcesContent":["// import { Row, Col, Container, Card, CardGroup, Breadcrumb, CardColumns } from 'react-bootstrap';\nimport Alert from \"@mui/material/Alert\";\nimport Box from \"@mui/material/Box\";\nimport InputLabel from \"@mui/material/InputLabel\";\nimport FormControl from \"@mui/material/FormControl\";\nimport Plotly from \"plotly.js\";\nimport Select from \"@mui/material/Select\";\nimport React, { useEffect, useState } from \"react\";\nimport Grid from \"@mui/material/Grid\";\nimport MenuItem from \"@mui/material/MenuItem\";\n\nfunction Treemap(props) {\n  const [data, setData] = useState(false);\n  const [treeData, setTreeData] = useState(false);\n  const [treeLayout, setTreeLayout] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [year, setYear] = useState(false);\n  const [years, setYears] = useState(false);\n  const [alert, setAlert] = useState(false);\n  const [colorValues, setColorValues] = useState(false);\n  const [colorValue, setColorValue] = useState(false);\n\n  useEffect(() => {\n    setLoading(true);\n    setTreeData(false);\n\n    fetch(process.env.REACT_APP_DOMAIN + \"/get-data/\" + props.filename)\n      .then((response) => response.json())\n      .then((resData) => {\n        if (resData.status !== \"failed\") {\n          setAlert(false);\n          setYear(Object.keys(resData)[Object.keys(resData).length - 1]);\n          setYears(\n            Object.keys(resData).map((year) => ({\n              label: year,\n              value: parseInt(year),\n            }))\n          );\n          setData(resData);\n          setColorValue(\"1y_evo\");\n          setTreeLayout({\n            margin: { t: 50, l: 25, r: 25, b: 25 },\n            title:\n              props.filename === \"entreprises\"\n                ? \"GES et market cap. - Entreprises\"\n                : \"CO2 total et evolution - Pays\",\n            autosize: true,\n            font: {\n              size: 14,\n              plot_bgcolor: \"black\",\n            },\n            annotations: [\n              {\n                showarrow: false,\n                text:\n                  props.filename === \"entreprises\"\n                    ? \"<i>Taille des zones : market cap. ; Couleur des zones : CO2</i>\"\n                    : \"<i>Taille des zones : GES total ; Couleur des zones : Evolution</i>\",\n                x: 0.5,\n                xanchor: \"center\",\n                y: -0.05,\n                yanchor: \"bottom\",\n              },\n            ],\n          });\n          setLoading(false);\n        } else {\n          setAlert(resData.message);\n        }\n      });\n  }, [props.filename]);\n\n  useEffect(() => {\n    if (year && data && colorValue) {\n      setTreeData(data[year][colorValue]);\n      setColorValues(\n        Object.keys(data[year]).map((color) => ({\n          label: color,\n          value: color,\n        }))\n      );\n    }\n  }, [year, data, colorValue]);\n\n  useEffect(() => {\n    setColorValue(\"1y_evo\");\n  }, [year]);\n\n  useEffect(() => {\n    console.log(treeData);\n    if (!loading && treeData) {\n      Plotly.react(\n        \"treemap\",\n        [\n          {\n            type: \"treemap\",\n            labels: treeData.label,\n            parents: treeData.parent,\n            values: treeData.value,\n            branchvalues: \"total\",\n            marker: {\n              colors: treeData.color,\n              colorscale: [\n                [\"0.0\", \"#2ca853\"],\n                [\"0.111111111111\", \"#56a33b\"],\n                [\"0.222222222222\", \"#729c23\"],\n                [\"0.333333333333\", \"#8a940a\"],\n                [\"0.444444444444\", \"#9f8b00\"],\n                [\"0.555555555556\", \"#b28100\"],\n                [\"0.666666666667\", \"#c37511\"],\n                [\"0.777777777778\", \"#d16826\"],\n                [\"0.888888888889\", \"#db5b3a\"],\n                [\"1.0\", \"#e24e4e\"],\n              ],\n              showscale: true,\n              cmid: treeData[colorValue + \"_med\"],\n              cmax: treeData[colorValue + \"_max\"],\n              cmin: treeData[colorValue + \"_min\"],\n            },\n            hovertemplate:\n              props.filename === \"entreprises\"\n                ? \"<b>%{label} </b> <br> Market cap. : %{value}<br> GES : %{color:,}<extra></extra>\"\n                : \"<b>%{label} </b> <br> C02 Total : %{value}<br> Evolution : %{color:,}<extra></extra>\",\n\n            //   maxdepth: 2,\n          },\n        ],\n        treeLayout,\n        { responsive: true }\n      );\n    }\n  }, [treeData, treeLayout, loading, props.filename, colorValue]);\n\n  useEffect(() => {\n    setTimeout(function () {\n      window.dispatchEvent(new Event(\"resize\"));\n    }, 100);\n  }, [props.open]);\n\n  return (\n    <div>\n      {loading === true || !treeData || !years || !year ? (\n        <div>\n          {alert ? (\n            <Alert style={{ marginTop: \"2vh\" }} severity=\"error\">\n              <div>\n                <div>\n                  Something went wrong. The file is probably not matching with\n                  compatible templates. Double check file or send below message\n                  to Nico:\n                </div>\n                <br />\n                {alert}\n              </div>\n            </Alert>\n          ) : (\n            <div> Loading data </div>\n          )}\n        </div>\n      ) : (\n        <Grid container spacing=\"1\" alignItems=\"center\">\n          <Grid item xs={1}>\n            {\" \"}\n            <Box>\n              <FormControl fullWidth>\n                <InputLabel id=\"demo-simple-select-label\">Year</InputLabel>\n                <Select\n                  id=\"select-year\"\n                  value={year}\n                  label=\"Year\"\n                  onChange={(event) => setYear(event.target.value)}\n                >\n                  {Object.keys(years).map(function (y) {\n                    return (\n                      <MenuItem value={years[y].value} key={y}>\n                        {years[y].label}\n                      </MenuItem>\n                    );\n                  })}\n                </Select>{\" \"}\n              </FormControl>\n            </Box>{\" \"}\n            <Box sx={{ marginTop: \"5vh\" }}>\n              <FormControl fullWidth>\n                <InputLabel id=\"demo-simple-select-label\">Color</InputLabel>\n                <Select\n                  id=\"select-color\"\n                  value={colorValue}\n                  label=\"Color\"\n                  onChange={(event) => setColorValue(event.target.value)}\n                >\n                  {Object.keys(colorValues).map(function (c) {\n                    return (\n                      <MenuItem value={colorValues[c].value} key={c}>\n                        {colorValues[c].label}\n                      </MenuItem>\n                    );\n                  })}\n                </Select>{\" \"}\n              </FormControl>\n            </Box>\n          </Grid>\n\n          <Grid item xs={11}>\n            <div id=\"treemap\" style={{ height: \"80vh\" }} />{\" \"}\n          </Grid>\n        </Grid>\n      )}\n    </div>\n  );\n}\n\nexport default Treemap;\n","import React, { useEffect } from \"react\";\nimport { styled, useTheme } from \"@mui/material/styles\";\nimport Box from \"@mui/material/Box\";\nimport Drawer from \"@mui/material/Drawer\";\nimport InfoIcon from \"@mui/icons-material/Info\";\nimport CssBaseline from \"@mui/material/CssBaseline\";\nimport MuiAppBar from \"@mui/material/AppBar\";\nimport Toolbar from \"@mui/material/Toolbar\";\nimport List from \"@mui/material/List\";\nimport Typography from \"@mui/material/Typography\";\nimport Divider from \"@mui/material/Divider\";\nimport IconButton from \"@mui/material/IconButton\";\nimport MenuIcon from \"@mui/icons-material/Menu\";\nimport ChevronLeftIcon from \"@mui/icons-material/ChevronLeft\";\nimport ChevronRightIcon from \"@mui/icons-material/ChevronRight\";\nimport ListItem from \"@mui/material/ListItem\";\nimport ListItemIcon from \"@mui/material/ListItemIcon\";\nimport ListItemText from \"@mui/material/ListItemText\";\nimport RefreshIcon from '@mui/icons-material/Refresh';\nimport TimelineIcon from '@mui/icons-material/Timeline';\nimport axios from \"axios\";\n\nconst drawerWidth = 240;\n\nconst Main = styled(\"main\", { shouldForwardProp: (prop) => prop !== \"open\" })(\n  ({ theme, open }) => ({\n    flexGrow: 1,\n    padding: theme.spacing(3),\n    transition: theme.transitions.create(\"margin\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    marginLeft: `-${drawerWidth}px`,\n    ...(open && {\n      transition: theme.transitions.create(\"margin\", {\n        easing: theme.transitions.easing.easeOut,\n        duration: theme.transitions.duration.enteringScreen,\n      }),\n      marginLeft: 0,\n    }),\n  })\n);\n\nconst AppBar = styled(MuiAppBar, {\n  shouldForwardProp: (prop) => prop !== \"open\",\n})(({ theme, open }) => ({\n  backgroundColor: \"White\",\n  color: \"black\",\n  transition: theme.transitions.create([\"margin\", \"width\"], {\n    easing: theme.transitions.easing.sharp,\n    duration: theme.transitions.duration.leavingScreen,\n  }),\n  ...(open && {\n    width: `calc(100% - ${drawerWidth}px)`,\n    marginLeft: `${drawerWidth}px`,\n    transition: theme.transitions.create([\"margin\", \"width\"], {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  }),\n}));\n\nconst DrawerHeader = styled(\"div\")(({ theme }) => ({\n  display: \"flex\",\n  alignItems: \"center\",\n  padding: theme.spacing(0, 1),\n  // necessary for content to be below app bar\n  ...theme.mixins.toolbar,\n  justifyContent: \"flex-end\",\n}));\n\nexport default function Layout({ children }) {\n  const theme = useTheme();\n  const [open, setOpen] = React.useState(true);\n\n  const handleDrawerOpen = () => {\n    setOpen(true);\n  };\n\n  const handleDrawerClose = () => {\n    setOpen(false);\n  };\n\n\n  const [filename, setFilename] = React.useState(\"pays.csv\");\n  const [files, setFiles] = React.useState([]);\n\n  const childrenWithProps = React.Children.map(children, child => {\n    // Checking isValidElement is the safe way and avoids a typescript\n    // error too.\n    if (React.isValidElement(child)) {\n      return React.cloneElement(child, { open,filename });\n    }\n    return child;\n  });\n\n  function refresh() { axios\n  .get(process.env.REACT_APP_DOMAIN + \"/get-files\")\n  .then((response) => {\n    setFiles(response.data)\n  })\n  .catch((error) => {\n    console.log(error);\n  });}\n\n  useEffect(() => {\n    refresh()\n  }, []);\n\n  return (\n    <Box sx={{ display: \"flex\" }}>\n      <CssBaseline />\n      <AppBar position=\"fixed\" open={open}>\n        <Toolbar>\n          <IconButton\n            color=\"inherit\"\n            aria-label=\"open drawer\"\n            onClick={handleDrawerOpen}\n            edge=\"start\"\n            sx={{ mr: 2, ...(open && { display: \"none\" }) }}\n          >\n            <MenuIcon />\n          </IconButton>\n          <Typography variant=\"h6\" noWrap component=\"div\">\n            Représentation graphique des émissions de GES\n          </Typography>\n        </Toolbar>\n      </AppBar>\n      <Drawer\n        sx={{\n          width: drawerWidth,\n          flexShrink: 0,\n          \"& .MuiDrawer-paper\": {\n            width: drawerWidth,\n            boxSizing: \"border-box\",\n          },\n        }}\n        variant=\"persistent\"\n        anchor=\"left\"\n        open={open}\n      >\n        <DrawerHeader>\n          <IconButton onClick={handleDrawerClose}>\n            {theme.direction === \"ltr\" ? (\n              <ChevronLeftIcon />\n            ) : (\n              <ChevronRightIcon />\n            )}\n          </IconButton>\n        </DrawerHeader>\n        <Divider />\n        <List>\n        {files.map((file) => <ListItem\n            button\n            key={file}\n            onClick={(event) => setFilename(file)}\n          >\n            <ListItemIcon>\n              <TimelineIcon />\n            </ListItemIcon>\n            <ListItemText primary={file} />\n          </ListItem>)}\n\n        \n\n          <ListItem button key={\"Refresh\"} onClick={(event) => refresh()}>\n            <ListItemIcon>\n              <RefreshIcon/>\n            </ListItemIcon>\n            <ListItemText primary={\"Refresh Drive\"} />\n          </ListItem>\n        </List>\n        <Divider />\n\n        <List>\n          <ListItem button key={\"About\"}>\n            <ListItemIcon>\n              <InfoIcon />\n            </ListItemIcon>\n            <ListItemText primary={\"About\"} />\n          </ListItem>\n        </List>\n      </Drawer>\n      <Main open={open}>\n        <DrawerHeader />\n        {childrenWithProps}\n\n      </Main>\n    </Box>\n  );\n}\n","import * as React from \"react\";\nimport Treemap from \"../components/Treemap\";\nimport Tabs from \"@mui/material/Tabs\";\nimport Tab from \"@mui/material/Tab\";\nimport TableChartIcon from \"@mui/icons-material/TableChart\";\nimport TableRowsIcon from \"@mui/icons-material/TableRows\";\nimport Layout from '../components/Layout'\n\n\nexport default function Home({open, filename}) {\n  \n  const [tabValue, setTabValue] = React.useState(0);\n\n  const handleChangeTab = (event, newValue) => {  \n    setTabValue(newValue);\n  };\n  \n  return (\n       <Layout>\n        <Tabs\n          value={tabValue}\n          onChange={handleChangeTab}\n          aria-label=\"icon tabs example\"\n        >\n          <Tab icon={<TableChartIcon />} aria-label=\"chart\" />\n          <Tab icon={<TableRowsIcon />} aria-label=\"table\" />\n        </Tabs>\n        {tabValue === 0 ? (\n          <Treemap filename={filename} open={open} />\n        ) : (\n          <div />\n        )}\n  </Layout>);\n}\n","import \"./App.css\";\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport Home from \"./pages/Home\";\n\nfunction App() {\n  const [getMessage, setGetMessage] = useState({});\n\n  useEffect(() => {\n    axios\n      .get(process.env.REACT_APP_DOMAIN + \"/api\")\n      .then((response) => {\n        setGetMessage(response);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <link\n        rel=\"stylesheet\"\n        href=\"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap\"\n      />\n      {getMessage.status === 200 ? (\n        <div>\n          <Router>\n            <Route exact path=\"/\" component={Home}></Route>\n          </Router>\n        </div>\n      ) : (\n        <h3>LOADING</h3>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}